<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Super matching</title>
    <style type="text/css">
        #mynetwork {
            width: 600px;
            height: 400px;
            border: 1px solid lightgray;
        }
    </style>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Please input an int</a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="1-10" aria-label="Search" name="input1">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit" name='btn1'>Submit</button>
        </form>
    </div>
</nav>

<div id="mynetwork"></div>
<h2 id="eventSpanHeading"></h2>
<pre id="eventSpanContent"></pre>
<p>the left is man and right is woman</p>
{% if data != None %}
    {% for ele in data %}
        <li>{{ ele }}</li>
    {% endfor %}
    <script>
        // create an array with nodes

        var nodes = new vis.DataSet([
            {% for ele in data %}
                {id: {{ ele[0]|safe }}, label: "M" + {{ ele[0]|safe }}},
                {id: {{ ele[1]|safe }}+10, label: "W" + {{ ele[1]|safe }}},
            {% endfor %}
        ]);

        // create an array with edges
        var edges = new vis.DataSet([
            {% for ele in data %}
                {id:{{ ele[0]|safe }}, from: {{ ele[0]|safe }}, to: {{ ele[1]|safe }}+10},
            {% endfor %}
        ]);


        // create a network
        var container = document.getElementById('mynetwork');

        // provide the data in the vis format
        var data = {
            nodes: nodes,
            edges: edges
        };
        var options = {}

        // initialize your network!
        var network = new vis.Network(container, data, options);

        network.on("click", function (params) {
            params.event = "[original event]";
            document.getElementById("eventSpanHeading").innerText = "Preference:";
            tmp = params.edges;// man's index

            {% for male in dataObj.maleList %}
                {% if tmp == male.index %}
                    tmp = {{ male.originalPreference }}
                {% endif %}
            {% endfor %}
            document.getElementById("eventSpanContent").innerText = tmp;

        });


    </script>
{% else %}
    <p>No super matching</p>
{% endif %}

</body>
</html>